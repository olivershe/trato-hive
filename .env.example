# =============================================================================
# TRATO HIVE - Environment Variables Configuration
# =============================================================================
# Copy this file to .env and fill in your actual values
# NEVER commit .env to version control

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================
# PostgreSQL connection string
# Format: postgresql://USER:PASSWORD@HOST:PORT/DATABASE
DATABASE_URL="postgresql://trato:dev_password@localhost:5432/trato_hive"

# =============================================================================
# REDIS CONFIGURATION
# =============================================================================
# Redis connection string for BullMQ job queue and caching
REDIS_URL="redis://localhost:6379"

# =============================================================================
# PINECONE VECTOR DATABASE (POC)
# =============================================================================
# Get your API key from: https://app.pinecone.io/
PINECONE_API_KEY="your-pinecone-api-key-here"

# Pinecone environment (e.g., us-east-1, us-west-2, eu-west-1)
PINECONE_ENVIRONMENT="us-east-1"

# Pinecone index name (create via Pinecone dashboard or API)
PINECONE_INDEX_NAME="trato-hive-embeddings"

# =============================================================================
# REDUCTO AI DOCUMENT PARSING API
# =============================================================================
# Get your API key from: https://reducto.ai/pricing
# Contact Reducto for trial access if not yet available
REDUCTO_API_KEY="your-reducto-api-key-here"

# Reducto API base URL (default: https://api.reducto.ai/v1)
REDUCTO_API_URL="https://api.reducto.ai/v1"

# =============================================================================
# LLM PROVIDERS
# =============================================================================

# ANTHROPIC (Claude Sonnet 4.5 - Primary LLM)
# Get your API key from: https://console.anthropic.com/
ANTHROPIC_API_KEY="your-anthropic-api-key-here"

# KIMI K2 THINKING (Secondary LLM for testing)
# Get your API key from: https://platform.moonshot.cn/
KIMI_API_KEY="your-kimi-api-key-here"
KIMI_API_URL="https://api.moonshot.cn/v1"

# OPENAI (For embeddings: text-embedding-3-large)
# Get your API key from: https://platform.openai.com/api-keys
OPENAI_API_KEY="your-openai-api-key-here"

# =============================================================================
# NEXTAUTH.JS V5 (AUTHENTICATION)
# =============================================================================
# CRITICAL: NextAuth v5 uses AUTH_SECRET (not NEXTAUTH_SECRET)
# Generate with: openssl rand -base64 32
AUTH_SECRET="generate-a-secret-with-openssl-rand-base64-32"

# Base URL of your application
AUTH_URL="http://localhost:3000"

# Legacy NextAuth v4 variables (keep for backward compatibility during migration)
NEXTAUTH_URL="http://localhost:3000"
NEXTAUTH_SECRET="generate-a-secret-with-openssl-rand-base64-32"

# JWT Configuration (optional - used for custom JWT handling)
JWT_SECRET="generate-another-secret-with-openssl-rand-base64-32"
JWT_EXPIRY="30d"
REFRESH_TOKEN_SECRET="generate-third-secret-with-openssl-rand-base64-32"
REFRESH_TOKEN_EXPIRY="90d"

# =============================================================================
# VERCEL DEPLOYMENT (OPTIONAL)
# =============================================================================
# Only needed if deploying to Vercel
# Get from: https://vercel.com/account/tokens
VERCEL_ORG_ID="your-vercel-org-id"
VERCEL_PROJECT_ID="your-vercel-project-id"

# =============================================================================
# NODE ENVIRONMENT
# =============================================================================
# Options: development, production, test
NODE_ENV="development"

# =============================================================================
# APPLICATION CONFIGURATION
# =============================================================================
# Frontend application URL (apps/web)
NEXT_PUBLIC_APP_URL="http://localhost:3000"
WEB_URL="http://localhost:3000"
WEB_PORT=3000

# Backend API URL (apps/api)
API_URL="http://localhost:4000"
API_PORT=4000
PORT=4000

# =============================================================================
# RATE LIMITING & THROTTLING (OPTIONAL)
# =============================================================================
# Max requests per minute per user (for API rate limiting)
RATE_LIMIT_RPM=60

# Max concurrent AI requests per user
MAX_CONCURRENT_AI_REQUESTS=3

# =============================================================================
# MONITORING & LOGGING (OPTIONAL - For Production)
# =============================================================================
# Sentry DSN for error tracking
# SENTRY_DSN="your-sentry-dsn"

# LogFlare API key for logging
# LOGFLARE_API_KEY="your-logflare-api-key"

# =============================================================================
# FEATURE FLAGS (OPTIONAL)
# =============================================================================
# Enable/disable features for POC testing
FEATURE_KIMI_K2_ENABLED=false
FEATURE_ADVANCED_AGENTS_ENABLED=false
FEATURE_MULTI_DOCUMENT_UPLOAD_ENABLED=false

# Module-specific flags
ENABLE_SOURCING_AGENT=true
ENABLE_DILIGENCE_AGENT=true
ENABLE_GENERATOR_AGENT=true

# =============================================================================
# NEO4J CONFIGURATION
# =============================================================================
# Neo4j connection details (from docker-compose.yml)
NEO4J_URI="bolt://localhost:7687"
NEO4J_USER="neo4j"
NEO4J_PASSWORD="dev_password"

# =============================================================================
# AWS S3 CONFIGURATION (DOCUMENT STORAGE)
# =============================================================================
# Get credentials from AWS IAM console
S3_BUCKET_NAME="trato-hive-documents"
S3_STAGING_BUCKET="trato-hive-staging"
AWS_REGION="us-east-1"
AWS_ACCESS_KEY_ID="your-aws-access-key-id"
AWS_SECRET_ACCESS_KEY="your-aws-secret-access-key"

# =============================================================================
# DOCUMENT PROCESSING LIMITS
# =============================================================================
MAX_FILE_SIZE_MB=100
ALLOWED_FILE_TYPES="pdf,xlsx,docx,msg,eml"

# =============================================================================
# SECURITY & CORS
# =============================================================================
CORS_ORIGIN="http://localhost:3000"
RATE_LIMIT_MAX=100
RATE_LIMIT_WINDOW_MS=60000

# =============================================================================
# LOGGING CONFIGURATION
# =============================================================================
LOG_LEVEL="info"
# Options: error, warn, info, debug, trace

# =============================================================================
# OAUTH PROVIDERS (OPTIONAL - For Social Login)
# =============================================================================
# Google OAuth 2.0
# Get credentials from: https://console.cloud.google.com/apis/credentials
# Callback URL: {AUTH_URL}/api/auth/callback/google
GOOGLE_CLIENT_ID="your-google-client-id.apps.googleusercontent.com"
GOOGLE_CLIENT_SECRET="your-google-client-secret"

# Microsoft Azure AD / Entra ID
# Get credentials from: https://portal.azure.com/ → Azure Active Directory → App registrations
# Callback URL: {AUTH_URL}/api/auth/callback/azure-ad
AZURE_AD_CLIENT_ID="your-azure-ad-client-id"
AZURE_AD_CLIENT_SECRET="your-azure-ad-client-secret"
AZURE_AD_TENANT_ID="your-azure-ad-tenant-id"

# NOTE: See packages/auth/README.md for detailed OAuth setup instructions

# =============================================================================
# NOTES & INSTRUCTIONS
# =============================================================================
# 1. Copy this file: cp .env.example .env
# 2. Fill in all *_API_KEY values with your actual keys
# 3. Generate AUTH_SECRET (REQUIRED): openssl rand -base64 32
# 4. Never commit .env to Git (already in .gitignore)
# 5. For production, use environment variables in Vercel dashboard
# 6. Keep this .env.example updated when adding new variables
# 7. For OAuth setup, see packages/auth/README.md
